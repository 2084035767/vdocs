# 三、选择器

选择器决定了样式规则对哪些元素有效。

**优先级**

- 选择器都有一个权值，权值越大越优先；
- 当权值相等时，后出现的样式表设置要优于先出现的样式表设置；
- 创作者的规则高于浏览者：即网页编写者设置的 CSS 样式的优先权高于浏览器所设置的样式；
- 继承的 CSS 样式不如后来指定的 CSS 样式；
- 在同一组属性设置中标有`!important`标识的优先级最大



**选择器权重**

权重主要分为 4 个等级：

- 第一等：代表内联样式，如: `style=""`，权值为1000
- 第二等：代表ID选择器，如：`#content`，权值为100
- 第三等：代表类，伪类和属性选择器，如`.content`，权值为10
- 第四等：代表类型选择器和伪元素选择器，如`div p`，权值为1

## 3.1 基本选择器

**标签选择器**

标签选择器用于选择个特定的 HTML 元素标签。

一般适合编写一些通用的样式，或者默认的样式，在它基础上，再使用其它的选择器设置更特殊的样式。

> 注意：
>
> - 所有的标签，都可以是选择器。
> - 无论这个标签藏的多深，一定能够被选择上。
> - 选择所有标签，而不是一个。

```css
/* HTML标签 <h1>标题</h1> */

h1{    
    color: red;  
}
```



**类选择器**

类选择器的格式，`.类名称{}`

优点：可以被多种标签使用，同一个 class，可以复用

同一个标签可以使用多个类选择器。用**空格**隔开

选择所有 class 属性一致标签，跨标签

```css
/* HTML标签 <h1 class="jt a">标题</h1> */

.jt{
    color: red;
}
```



**id 选择器**

id 选择器的格式：`#id名称{}`

针对特定的标签(一个)，ID 是此标签在此页面上的唯一标识。

> 注意：id 必须保证全局唯一

```css
/* HTML标签 <h1 id="jt">标题</h1> */

#jt{
    color: red;
}
```

> 建议：`class`属性交给 css 使用，`id`属性交给 js 使用。



## 3.2 层次选择器

**后代选择器**

HTML 中元素是以父子级、兄弟关系存在的。后代选择器指元素后的元素（不只是子元素，是后代元素）。

```css
/* 后代选择器 */

/*<h2>
<p>hell,world</p>
</h2>*/

h2 p{
    background: red;
}
```



**子选择器**

子元素选择器中选择子元素，不包括孙级及以下元素。

```css
/* 子选择器 */

/*<h2>
<p>hell,world</p>
</h2>*/

body>p{
    background: red;
}
```



**相邻兄弟选择器**

用于选择紧挨着的同级兄弟元素。只有一个：相邻（向下）

```css
/* 相邻兄弟选择器 */

/*<h2>hell,world</h2>
<h2>hell,world</h2>*/

h2 + p{
    background: red;
}
```



**通用兄弟选择器**

当前选中元素的所有向下兄弟元素

```css
/* 通用兄弟选择器 */
.active ~ p{
    background: red;
}
```



## 3.3 属性选择器

通过元素的属性选择。

==规则：标签[属性名 = 属性值（正则）]==

| 正则 | 含义                      |
| ---- | ------------------------- |
| `=`  | 绝对等于                  |
| `*=` | 包含字符等于              |
| `~=` | 包含单词等于              |
| `^=` | 以开头                    |
| `$=` | 以结尾                    |
| `|=` | 包含单词或以`-`连接的单词 |

```css
/*存在 id 属性的 a 标签*/
a[id]{
    background: red;
}

/*存在 class 属性为 first 的 a 标签元素*/
a[class=first]{
    background: red;
}
```



## 3.4 伪类选择器

为元素的不同状态或不确定存在的元素设置样式规则。它的功能和class有些类似，但它是基于文档之外的抽象，所以叫伪类。

**静态伪类选择器、动态伪类选择器**

伪类选择器分为两种。

1. **静态伪类**：只能用于**超链接**的样式。如：`:link`和`:visited`只能用于超链接。

2. **动态伪类**：针对**所有标签**都适用的样式。

| 伪类       | 说明                                       |
| ---------- | ------------------------------------------ |
| `E:link`    | 选择所有未被访问的链接。                   |
| `E:visited` | 选择所有已被访问的链接。                   |
| `E:hover`   | 鼠标移动到元素上时。                       |
| `E:active`  | 点击正在发生时。                           |
| `E:focus`   | 选择获得焦点的元素。                       |
| `E:target`  | 选择具有锚点的目标元素。                   |
| `:root`    | 选择文档的根元素即 html。                  |
| `E:empty`   | 选择没有子元素的每个元素（包括文本节点）。 |



```css
/*移动到 a 元素变红*/
a:hover{
    color: red;
}

/*选择获得焦点的 input 元素变红*/
input:focus{
    color: red;
}
```



**结构伪类选择器**

通过结构伪类选择器选择树状结构中的标签元素。

| 结构伪类               | 说明                                       |
| ---------------------- | ------------------------------------------ |
| `E:first-child`         | 选择属于父元素的第一个子元素的每个元素     |
| `E:last-child`          | 选择属于其父元素最后一个子元素每个元素。   |
| `E:first-of-type`       | 选择属于其父元素的首个元素的每个元素       |
| `E:last-of-type`        | 选择属于其父元素的最后元素的每个元素。     |
| `E:only-of-type`        | 选择属于其父元素唯一的元素的每个元素。     |
| `E:only-child`          | 选择属于其父元素的唯一子元素的每个元素。   |
| `E:nth-child(1)`        | 选择属于其父元素的第一个子元素的每个元素。 |
| `E:nth-child(odd)`      | 选择属于其父元素的奇数元素。               |
| `E:nth-child(even)`     | 选择属于其父元素的偶数元素。               |
| `E:nth-of-type(1)`      | 选择属于其父元素第一个元素的每个元素。     |
| `E:nth-last-child(1)`   | 同上，从最后一个子元素开始计数。           |
| `E:nth-last-of-type(1)` | 同上，但是从最后一个子元素开始计数。       |
| `:not(p)`              | 选择非 p 元素的每个元素                    |



```css
/*选择当前 p 元素的父级元素，选中父级元素的第一个元素，并且是当前元素才生效*/
p:nth-child(1){
    background: red;
}

/*选中父元素下的 p 元素的第二个类型*/
p:nth-of-type(1){
    background: red;
}

/*ul 的第一个元素*/
ul li:first-child{
    background: red;
}

/*ul 的最后一个元素*/
ul li:last-child{
    background: red;
}
```



**表单伪类**

| 表单伪类    | 说明                         |
| ----------- | ---------------------------- |
| `E:enabled` | 选择每个启用的元素。         |
| `E:disabled` | 选择每个禁用的元素。         |
| `E:checked`  | 选择每个被选中的元素。       |
| `E:required` | 包含`required`属性的元素。   |
| `E:optional` | 不包含`required`属性的元素。 |
| `E:valid`    | 验证通过的表单元素。         |
| `E:invalid`  | 验证不通过的表单。           |



## 3.5 伪元素

对元素中的特定内容进行操作，但是它本身只是基于元素的抽象，并不存在于文档中，所以叫伪元素。

| 伪元素            | 说明                     |
| ----------------- | ------------------------ |
| `E::before`       | 在元素的内容之前插入内容 |
| `E::after`        | 在元素的内容之后插入内容 |
| `E::first-letter` | 选择元素的第首字母或字   |
| `E::first-line`   | 选择元素的第一行         |
| `E::selection`    | 被选中的文本             |
