# 第一章：操作系统概述

## 1.1 操作系统概述



## 1.2 操作系统的历史



## 1.3 操作系统的功能和目标

作为用户和计算机硬件之间的接口

- 提供的功能
- 命令接口（联机命令接口|脱机命令接口）
- 程序接口
- GUI（图形用户界面win|ios|andrio）
- 目标
- 方便用户使用

系统资源的管理者

用户和计算机硬件之间的接口

最接近硬件的层次



## 1.4 操作系统的特征

并发|并行

- 并发：多个事件交替发生（宏观同时发生、微观交替进行）

并行：多个事件同时发生

- 共享

  - 互斥共享：一个时间段内只允许一个进程访问该资源

  - 同时共享：一个时间段内允许多个进程“同时”对它们进行访问

- 虚拟：指把物理上的实体对应为若干个逻辑上的对应物
  - 空分复用计数
  - 时分复用计数
- 异步性：指进程不是一次性执行完毕,而是走走停停,以不可知的速度向前推进。



## 1.5 操作系统的分类

- 手工操作阶段
- 单道批处理系统
- 多道批处理系统
- 分时操作系统：轮流处理作业，不能处理紧急任务
- 实时操作系统：优先处理紧急任务
  - 硬实时：必须在严格的时间内完成处理
  - 软实时：可以偶尔犯错
- 其他操作系统
  - 网络操作系统
  - 分布式操作系统
  - 个人计算机操作系统

　



## 1.6 运行机制与体系结构

### 什么是指令

特权指令：不允许普通的用户程序来使用的指令

非特权指令：允许普通的用户程序来使用的指令



处理器的两种状态

- 用户态（目态）：CPU处于用户态时，只能执行非特权指令。

- 核心态（管态）：CPU处于核心态时，可以执行特权指令，也可以执行非特权指令。



程序状态字寄存器[PSW]





‍

两种程序

内核程序(运行在核心态)：是操作系统的核心的内容，它是系统资源的管理者

普通应用程序：

‍

### 操作系统内核

内核是计算机上配置的底层软件，是最接近硬件的一个部分，是操作系统最基本最核心的部分。



操作系统内核可以分为这样4个大部分

- 时钟管理，中断处理和原语（程序运行具有原子性，不可中断）

- 进程管理
- 存储器管理
- 设备管理



### 操作系统体系结构

大内核：将操作系统的主要功能模块都作为系统内核，运行在核心态

微内核:只把最基本的功能保留在内核





大内核的优点是高性能，但是缺点是内核的代码庞大，结构混乱难以维护。



微内核的优点与它恰好相反，使内核的功能少，结构清晰方便维护，但是缺点又是需要在核心态和用户台之间频繁的切换，它的性能会比大内核更低。



## 1.6 中断和异常

### 中断机制的诞生

‍

中断机制，实现了多道程序并发执行这样一件事情，也就是进入了我们之前提到过的多道批处理阶段。

> 只要发生了中断之后，就意味着需要操作系统介入工作，来开展各种各样的管理工作。

特点

- 当中断发生的时候，CPU会立即进入核心态。
- 当中断发生用户进程会暂停运行，然后由操作系统的内核对中断进行处理。
- 对于不同的中断信号，操作系统进行的这种处理方式是各不相同的。
- 有了中断才可以实现多道程序并发执行。

‍

### 中断的分类

内外中断，这两种中断本质上的区别在于中断信号的来源到底是CPU的内部，还是CPU的外部，内中断的发生和当前执行的指令是有关系的，而外中断和当前执行的指令事务没有关系的



内中断也可以称为异常或者例外陷入

- 陷入
- 故障
- 中止

外中断也可以简单的称之为中断

### 系统调用

应用程序通过系统调用请求操作系统的服务。保证系统的稳定性和安全性。

系统调用和库函数的区别：

- 系统调用是操作系统向上层提供的接口
- 有的库函数是对系统调用的进一步封装
- 当今编写的应用程序大多是通过高级语言提供的库函数间接地进行系统调用
